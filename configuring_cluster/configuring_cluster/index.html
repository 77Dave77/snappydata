<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="SnappyData Team">
  
  <title>Configuration - SnappyData Documentation</title>
  

  <link rel="shortcut icon" href="../../favicon.ico">
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/toc.css" rel="stylesheet">
  <link href="../../css/menu.css" rel="stylesheet">
  <link href="../../css/images.css" rel="stylesheet">
  <link href="../../css/style.css" rel="stylesheet">
  <link href="../../extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Configuration";
    var mkdocs_page_input_path = "configuring_cluster/configuring_cluster.md";
    var mkdocs_page_url = "/configuring_cluster/configuring_cluster/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 
  <script src="../../js/menu.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> SnappyData Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../quickstart/">Getting Started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../install/">Download and Install</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../howto/">How Tos</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../architecture/">Architecture</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../configuration/">Configuring the Cluster</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Configuring the Cluster</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Configuration</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#configuration-files">Configuration Files</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-locators">Configuring Locators</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-leads">Configuring Leads</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-data-servers">Configuring Data Servers</a></li>
                
                    <li><a class="toctree-l4" href="#snappydata-specific-properties">SnappyData Specific Properties</a></li>
                
            
                <li class="toctree-l3"><a href="#hdfs-with-snappydata-store">HDFS with SnappyData Store</a></li>
                
                    <li><a class="toctree-l4" href="#example-for-multiple-host-configuration">Example for Multiple-Host Configuration</a></li>
                
                    <li><a class="toctree-l4" href="#environment-settings">Environment Settings</a></li>
                
                    <li><a class="toctree-l4" href="#hadoop-provided-settings">Hadoop Provided Settings</a></li>
                
                    <li><a class="toctree-l4" href="#per-component-configuration">Per Component Configuration</a></li>
                
                    <li><a class="toctree-l4" href="#snappy-command-line-utility">Snappy Command Line Utility</a></li>
                
                    <li><a class="toctree-l4" href="#logging">Logging</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-ssh-login-without-password">Configuring SSH Login without Password</a></li>
                
                    <li><a class="toctree-l4" href="#ssl-setup-for-client-server">SSL Setup for Client-Server</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../property_description/">SnappyData Properties</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../programming_guide/">Programming Guide</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../deployment/">Affinity Modes</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/">Best practices</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Best practices</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/capacity_planning/">Setting up your Cluster </a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../best_practices/design_schema/">Designing your Database and Schema</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../aqp/">Synopsis Data Engine (SDE)</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../aqp_aws/">Using iSight-Cloud</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../monitoring/monitoring/">Managing and Monitoring</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../reference/">Reference Guides</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Reference Guides</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../sql_reference/">SQL Reference Guide</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>SQL Reference Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-statements/">CREATE Statements</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>CREATE Statements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-diskstore/">CREATE DISKSTORE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-function/">CREATE FUNCTION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-index/">CREATE INDEX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-schema/">CREATE SCHEMA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-table/">CREATE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-sample-table/">CREATE SAMPLE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-external-table/">CREATE EXTERNAL TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-temporary-table/">CREATE TEMPORARY TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/create-stream-table/">CREATE STREAM TABLE</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/delete/">DELETE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-statements/">DROP Statements</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>DROP Statements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-diskstore/">DROP DISKSTORE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-function/">DROP FUNCTION</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-index/">DROP INDEX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/drop-table/">DROP TABLE</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/insert/">INSERT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/put-into/">PUT INTO</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/select/">SELECT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/set-schema/">SET SCHEMA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/truncate-table/">TRUNCATE TABLE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/sql_reference/update/">UPDATE</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/system-procedures/">Inbuilt System Procedures</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Inbuilt System Procedures</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/dump-stacks/">DUMP_STACKS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/rebalance-all-buckets/">REBALANCE_ALL_BUCKETS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/set_critical_heap_percentage/">SET_CRITICAL_HEAP_PERCENTAGE</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/inbuilt_system_procedures/set-trace-flag/">SET_TRACE_FLAG</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/system_tables/">System Tables</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>System Tables</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/members/">MEMBERS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/memoryanalytics/">MEMORYANALYTICS</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/system_tables/sysdiskstores/">SYSDISKSTORES</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-launcher/">Command Line Utilities</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Command Line Utilities</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-backup/">backup</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-list-missing-disk-stores/">list-missing-disk-stores</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-revoke-missing-disk-stores/">revoke-missing-disk-store</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-run/">run</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/command_line_utilities/store-version/">version</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/store_command_reference/">Snappy-SQL Shell Interactive Commands</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Snappy-SQL Shell Interactive Commands</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/connect_client/">connect client</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/connect/">connect</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/describe/">describe</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/disconnect/">disconnect</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/elapsedtime/">elapsedtime</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/exit/">exit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/maximumdisplaywidth/">MaximumDisplayWidth</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/run/">run</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/set_connection/">set connection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/interactive_commands/show/">show</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/config_parameters/">Configuration Parameters</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Configuration Parameters</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/ack-severe-alert-threshold/">ack-severe-alert-threshold</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/ack-wait-threshold/">ack-wait-threshold</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/archive-disk-space-limit/">archive-disk-space-limit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/archive-file-size-limit/">archive-file-size-limit</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/bind-address/">bind-address</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-network-partition-detection/">enable-network-partition-detection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-stats/">enable-stats</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enable-time-statistics/">enable-time-statistics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/enforce-unique-host/">enforce-unique-host</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/init-scripts/">init-scripts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/locators/">locators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/log-file/">log-file</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/log-level/">log-level</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/member-timeout/">member-timeout</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/redundancy-zone/">redundancy-zone</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/start-locator/">start-locator</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-archive-file/">statistic-archive-file</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-sample-rate/">statistic-sample-rate</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/statistic-sampling-enabled/">statistic-sampling-enabled</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/sys-disk-dir/">sys-disk-dir</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../reference/configuration_parameters/user/">user</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../apidocsintro/">API Documentation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../setting_up_odbc_driver-tableau_desktop/">Setting Up SnappyData ODBC Driver and Tableau Desktop</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../additional_docs/">Additional Information</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../techsupport/">Contact and Support</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../LICENSE/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SnappyData Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuring the Cluster &raquo;</li>
        
      
    
    <li>Configuration</li>
<!--    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/SnappyDataInc/snappydata" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li> !-->
  </ul>
</br>
 <b>This document is a work in progress and will be progressively updated.</b>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="configuration-files">Configuration Files</h1>
<p>Configuration files for locator, lead, and server should be created in the <strong>conf</strong> folder located in the SnappyData home directory with names <strong>locators</strong>, <strong>leads</strong>, and <strong>servers</strong>.</p>
<p>To do so, you can copy the existing template files <strong>servers.template</strong>, <strong>locators.template</strong>, <strong>leads.template</strong>, and rename them to <strong>servers</strong>, <strong>locators</strong>, <strong>leads</strong>.</p>
<p>These files contain the hostnames of the nodes (one per line) where you intend to start the member. You can modify the properties to configure individual members.</p>
<p><a id="locator"></a></p>
<h2 id="configuring-locators">Configuring Locators</h2>
<p>Locators provide discovery service for the cluster. It informs a new member joining the group about other existing members. A cluster usually has more than one locator for high availability reasons.</p>
<p>In this file, you can specify:</p>
<ul>
<li>
<p>The host name on which a SnappyData locator is started.</p>
</li>
<li>
<p>The startup directory where the logs and configuration files for that locator instance are located.</p>
</li>
<li>
<p>SnappyData specific properties that can be passed.</p>
</li>
</ul>
<p>Create the configuration file (<strong>locators</strong>) for locators in the <em>SnappyData_home/conf</em> directory.</p>
<p><a id="lead"></a></p>
<h2 id="configuring-leads">Configuring Leads</h2>
<p>Lead Nodes act as a Spark driver by maintaining a singleton SparkContext. There is one primary lead node at any given instance, but there can be multiple secondary lead node instances on standby for fault tolerance. The lead node hosts a REST server to accept and run applications. The lead node also executes SQL queries routed to it by “data server” members.</p>
<p>Create the configuration file (<strong>leads</strong>) for leads in the <em>SnappyData_home/conf</em> directory.</p>
<p><a id="dataserver"></a></p>
<h2 id="configuring-data-servers">Configuring Data Servers</h2>
<p>Data Servers hosts data, embeds a Spark executor, and also contains a SQL engine capable of executing certain queries independently and more efficiently than Spark. Data servers use intelligent query routing to either execute the query directly on the node or to pass it to the lead node for execution by Spark SQL.</p>
<p>Create the configuration file (<strong>servers</strong>) for data servers in the <em>SnappyData_home/conf</em> directory.</p>
<p><a id="properties"></a></p>
<h2 id="snappydata-specific-properties">SnappyData Specific Properties</h2>
<p>The following are the few important SnappyData properties that you can configure:</p>
<ul>
<li>
<p><strong>-peer-discovery-port</strong>: This is a locator specific property. This is the port on which locator listens for member discovery. It defaults to 10334. </p>
</li>
<li>
<p><strong>-client-port</strong>: Port that a member listens on for client connections. </p>
</li>
<li>
<p><strong>-locators</strong>: List of other locators as comma-separated host:port values. For locators, the list must include all other locators in use. For Servers and Leads, the list must include all the locators of the distributed system.</p>
</li>
<li>
<p><strong>-dir</strong>: SnappyData members need to have the working directory. The member working directory provides a default location for the log file, persistence, and status files for each member.<br> If not specified, SnappyData creates the member directory in <em>SnappyData_HomeDirectory/work</em>. </p>
</li>
<li>
<p><strong>-classpath</strong>: This can be used to provide any application specific code to the lead and servers. We envisage having setJar like functionality going forward but for now, the application jars have to be provided during startup. </p>
</li>
<li>
<p><strong>-heap-size</strong>: Set a fixed heap size and for the Java VM. </p>
</li>
<li>
<p><strong>-J</strong>: Use this to configure any JVM specific property. For example. -J-XX:MaxPermSize=512m. </p>
</li>
<li>
<p><strong>-memory-size</strong>: Specifies the total memory that can be used by the cluster in off-heap mode. Default value is 0 (OFF_HEAP is not used by default).</p>
</li>
</ul>
<p>Refer to the <a href="../property_description/">SnappyData properties</a> for the list of SnappyData properties for Locators, Leads and Servers.</p>
<p><a id="hdfs"></a></p>
<h1 id="hdfs-with-snappydata-store">HDFS with SnappyData Store</h1>
<p>If using SnappyData store persistence to Hadoop as documented <a href="http://gemfirexd.docs.pivotal.io/docs-gemfirexd/disk_storage/persist-hdfs.html">here</a>, then add the <a href="http://search.maven.org/#artifactdetails|org.apache.hbase|hbase|0.94.27|jar">hbase jar</a> explicitly to CLASSPATH. The jar is now packed in the product tree, so that can be used or download from Apache Maven. Then add to conf/spark-env.sh:</p>
<p><code>export SPARK_DIST_CLASSPATH=&lt;/path/to/&gt;hbase-0.94.27.jar</code></p>
<p>Substitute the actual path for <code>&lt;/path/to/&gt;</code> above</p>
<p><a id="multi-host"></a></p>
<h2 id="example-for-multiple-host-configuration">Example for Multiple-Host Configuration</h2>
<p>Let's say you want to:</p>
<ul>
<li>
<p>Start two Locators (on node-a:9999 and node-b:8888), two servers (node-c and node-c) and a lead (node-l).</p>
</li>
<li>
<p>Change the Spark UI port from 5050 to 9090. </p>
</li>
<li>
<p>Set spark.executor.cores as 10 on all servers. </p>
</li>
</ul>
<p>The following can be your conf files. </p>
<pre><code class="bash">$ cat conf/locators
node-a -peer-discovery-port=9999 -dir=/node-a/locator1 -heap-size=1024m -locators=node-b:8888
node-b -peer-discovery-port=8888 -dir=/node-b/locator2 -heap-size=1024m -locators=node-a:9999

$ cat conf/servers
node-c -dir=/node-c/server1 -heap-size=4096m -locators=node-b:8888,node-a:9999
node-c -dir=/node-c/server2 -heap-size=4096m -locators=node-b:8888,node-a:9999

$ cat conf/leads
# This goes to the default directory 
node-l -heap-size=4096m -spark.ui.port=9090 -locators=node-b:8888,node-a:9999 -spark.executor.cores=10
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Configuration files are consulted when servers are started and also when they are stopped. So, we do not recommend changing the configuration files when the cluster is running. </p>
</div>
<p><a id="env-setting"></a></p>
<h2 id="environment-settings">Environment Settings</h2>
<p>Any Spark or SnappyData specific environment settings can be done by creating a snappy-env.sh or spark-env.sh in <em>SNAPPY_HOME/conf</em>. </p>
<p><a id="hadoop-setting"></a></p>
<h2 id="hadoop-provided-settings">Hadoop Provided Settings</h2>
<p>If you want to run SnappyData with an already existing custom Hadoop cluster like MapR or Cloudera you should download Snappy without Hadoop from the download link.
This allows you to provide Hadoop at runtime.</p>
<p>To do this you need to put an entry in $SNAPPY-HOME/conf/spark-env.sh as below:</p>
<pre><code>export SPARK_DIST_CLASSPATH=$($OTHER_HADOOP_HOME/bin/hadoop classpath)
</code></pre>

<p><a id="per-component"></a></p>
<h2 id="per-component-configuration">Per Component Configuration</h2>
<p>Most of the time, components would be sharing the same properties. For example, you would want all servers to start with 4096m while leads to start with 2048m. You can configure these by specifying LOCATOR_STARTUP_OPTIONS, SERVER_STARTUP_OPTIONS, LEAD_STARTUP_OPTIONS environment variables in conf/snappy-env.sh. </p>
<pre><code class="bash">$ cat conf/snappy-env.sh
SERVER_STARTUP_OPTIONS=&quot;-heap-size=4096m&quot;
LEAD_STARTUP_OPTIONS=&quot;-heap-size=2048m&quot;
</code></pre>

<p><a id="command-line"></a></p>
<h2 id="snappy-command-line-utility">Snappy Command Line Utility</h2>
<p>Instead of starting SnappyData members using SSH scripts, they can be individually configured and started using the command line. </p>
<pre><code class="bash">$ bin/snappy locator start  -dir=/node-a/locator1 
$ bin/snappy server start  -dir=/node-b/server1  -locators:localhost:10334
$ bin/snappy leader start  -dir=/node-c/lead1  -locators:localhost:10334

$ bin/snappy locator stop -dir=/node-a/locator1
$ bin/snappy server stop -dir=/node-b/server1
$ bin/snappy leader stop -dir=/node-c/lead1
</code></pre>

<p>Refer to the <a href="../property_description/">SnappyData properties</a> for the list of SnappyData properties for Locators, Leads and Servers.</p>
<p><a id="logging"></a></p>
<h2 id="logging">Logging</h2>
<p>Currently, log files for SnappyData components go inside the working directory. To change the log file directory, you can specify a property <em>-log-file</em> as the path of the directory. </br>
The logging levels can be modified by adding a conf/log4j.properties file in the product directory. </p>
<pre><code class="bash">$ cat conf/log4j.properties 
log4j.logger.org.apache.spark.scheduler.DAGScheduler=DEBUG
log4j.logger.org.apache.spark.scheduler.TaskSetManager=DEBUG
</code></pre>

<p><a id="ssh"></a></p>
<h2 id="configuring-ssh-login-without-password">Configuring SSH Login without Password</h2>
<p>By default, Secure Socket Shell (SSH) requires a password for authentication on a remote server.
This setting needs to be modified to allow you to login to the remote host through the SSH protocol, without having to enter your SSH password multiple times when working with SnappyData.</p>
<p>To install and configure SSH, do the following:</p>
<ol>
<li>
<p><strong>Install SSH</strong> <br>
    To install SSH,  type:
    <code>sudo apt-get install ssh</code>
    Mac OS X has a built-in SSH client.</p>
</li>
<li>
<p><strong>Generate an RSA key pair</strong><br>
    To generate an RSA key pair run the following command on the client computer,
    <code>ssh-keygen -t rsa</code>
    Press <strong>Enter</strong> when prompted to enter the file in which to save the key, and for the pass phrase.</p>
</li>
<li>
<p><strong>Copy the Public Key</strong><br>
    Once the key pair is generated, copy the contents of the public key file, to the authorized key on the remote site, by typing <code>cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></p>
</li>
</ol>
<p><a id="ssl"></a></p>
<h2 id="ssl-setup-for-client-server">SSL Setup for Client-Server</h2>
<p>SnappyData store now has support for Thrift protocol that provides functionality equivalent to JDBC/ODBC protocols and can be used to access the store from other languages that are not yet supported directly by SnappyData. In the command-line, SnappyData locators and servers accept the <code>-thrift-server-address</code> and -<code>thrift-server-port</code> arguments to start a Thrift server.</p>
<p>The thrift servers use the Thrift Compact Protocol by default which is not SSL enabled. When using the snappy-start-all.sh script, these properties can be specified in the conf/locators and conf/servers files in the product directory like any other locator/server properties.</p>
<p>In the <strong>conf/locators</strong> and <strong>conf/servers</strong> files, you need to add <code>-thrift-ssl</code> and required SSL setup in <code>-thrift-ssl-properties</code>. Refer to the <a href="../property_description/#thrift-properties">SnappyData thrift properties</a> section for more information.</p>
<p>From the Snappy-shell:</p>
<pre><code class="bash">snappy&gt; connect client 'host:port;ssl=true;ssl-properties=...';
</code></pre>

<p>For JDBC use the same properties (without the "thrift-" prefix) like:</p>
<pre><code>jdbc:snappydata://host:port/;ssl=true;ssl-properties=...
</code></pre>

<p>For example:</p>
<p>For a self-signed RSA certificate in keystore.jks, you can have the following configuration in the conf/locators and conf/servers files:</p>
<pre><code>localhost -thrift-ssl=true -thrift-ssl-properties=keystore=keystore.jks,keystore-password=password,protocol=TLS,enabled-protocols=TLSv1:TLSv1.1:TLSv1.2,cipher-suites=TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256
</code></pre>

<p>Use the protocol/ciphers as per requirement. The corresponding setup on client-side can look like:</p>
<pre><code class="bash">snappy&gt; connect client 'localhost:1527;ssl=true;ssl-properties=truststore=keystore.jks,truststore-password=password,protocol=TLS,enabled-protocols=TLSv1:TLSv1.1:TLSv1.2,cipher-suites=TLS_RSA_WITH_AES_128_CBC_SHA:TLS_RSA_WITH_AES_256_CBC_SHA:TLS_RSA_WITH_AES_128_CBC_SHA256:TLS_RSA_WITH_AES_256_CBC_SHA256';
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../property_description/" class="btn btn-neutral float-right" title="SnappyData Properties">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../configuration/" class="btn btn-neutral" title="Configuring the Cluster"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2017 SnappyData Inc.</p>
    
  </div>

 <b>This document is a work in progress and will be progressively updated.</b>

 <!-- Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. -->
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/SnappyDataInc/snappydata" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../configuration/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../property_description/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
